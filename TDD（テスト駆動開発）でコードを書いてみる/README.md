# TDD（テスト駆動開発）でコードを書いてみる

## 課題1 

### テスト駆動開発のメリット・デメリット
**メリット**
- コードの振る舞いを実例を通してすぐに確認できる。
- 自動単体テストが作られることで不具合の検知が容易になる。
- テストを先に書くという行為を通して、テスト対象の責務が明確かつ疎結合になることが期待できる。

**デメリット**
- コード量が増える。
- 初めのうちは時間がかかる。
- テストコードを書くことやテストを通すことが目的になってしまう可能性がある。

<br>

### 三角測量とは
複数のテストケースをテスト対象に与えることで、
より汎用的な実装の足がかりを得るテクニック。
足し算など明確に実装がわかっている場合はあまり有益ではないが、
入出力が明らかなのに内部ロジックがイメージできないような場合は有益な手順。
参考：[特集 「テスト駆動開発」はプログラマのストレスを軽減するか？（3/4） - ＠IT](https://atmarkit.itmedia.co.jp/fdotnet/special/tdd/tdd_03.html)

<br>

### レッド・グリーン・リファクタリングとは
TDDにおける開発のステップを示す。
最初にテストを書いてテストが失敗することを確認するステップがレッド。
実装を書いてテストを通すステップがグリーン。
実装から重複をなくすステップがリファクタリング。

<br>

### 仮実装とは
テストを通すための実装。この時点では実装の綺麗さは意識しない。
正しく動くことと綺麗であることを分けられるので実装を進めやすくなる。

<br>

### TDDと似た概念としてBDDが挙げられますが、これらは何が違うのでしょう？
### 提唱者はどのような問題を解決したくてBDDを提案したのでしょう？
「ゴールを先に定義する」という点でBDDはTDDと同じだと考える。
違いとしては、TDDがコードレベルの振る舞いをゴールとしていたのに対して、
BDDではシステム/機能レベルの振る舞いもゴールに加えていると思われる。
またBDDでは振る舞いに着目するテクニックとして「Given, When, Then」という説明をテストに導入している。
書籍『テスト駆動開発』では、BDDを提唱したDan North氏はTDDが含む「テスト」という単語がTDDの正確な理解の邪魔になると考え、
テスト駆動開発が実際には「振る舞い」で駆動されていると発見し、BDDと命名したと述べられていることから、
提唱者はTDDがコードレベルのテスト手法という誤解を解き、
開発全体で有効な設計手法であることを説明したかったと考えた。


<br>

## 課題2
- `./nodejs/src/challenge`配下に課題のコードを配置
- `ts-node script.ts add 1 2 10 `で動作確認可能

<br>

## 参考記事 & メモ
> [優れたテスト容易性を実現するためのポイント  | PrAhaENGINEERLAB](https://www.praha-inc.com/lab/posts/testability)
> - 開発成果物が長年保守される中でレガシーコード化し、テスト容易性が失われる状況への備えとしても、各所にテスト容易性が拡張可能なポイントを実装しておくのが有効です。その備えがあると、テスト容易性が失われても、テスト容易性を拡張して必要なリグレッションテストを構築し、そのテストを使って、テスト容易性確保のためのリファクタリングを行うアプローチが可能になります。
> - テストファーストやテスト駆動開発を実践すると、最初からテストを考慮した成果物しか作られなくなり、対象のテスト容易性が底上げされます。

> [テストコードは必要か？（自動テスト・テスト駆動開発<TDD>について考える）](https://zenn.dev/yuulab/articles/45dc33feaada62)
> - 私は自分の経験やテストに関する書籍などから、テストコードを書く意義は大きく4つあると考えています。
>   - 不具合の早期検知・バグの減少
>   - 疎結合なシステムに開発が向かう
>   - リファクタリングの促進
>   - 新規参画者の仕様理解・コードリーディングの効率up
> - そんなTDDにもデメリットは存在します。以下は考えられるデメリットになります。
>   - テストコードを書くことが全ての目的となり、テストカバレージばかり気にしてしまって本質ではないところに時間をかけてしまうこと
>   - 意味のないテストを大量に用意してしまうおそれがあること
>   - 慣れるまで開発工数が多くかかってしまうこと
>   - チーム全体で取り組まないとあまり意味がないこと（チーム全体への理解と普及が必要）

> [なぜテストが開発を駆動するのか](https://zenn.dev/sterashima78/articles/2e5df396a549fb)
> - 開発作業をするときには大きく分けて以下の２つのステップを繰り返しているものだと考えている。
>   - 実装対象についての情報収集・整理 (インプット)
>   - 整理された情報をコードで表現する・実装する (アウトプット)
> - 多くの場合インプットとアウトプットは明確なステップとして認識されず、頻繁に行ったり来たりする状態を繰り返すこと事が多いと思う。
> - やや雑なことを承知で言えば、『アウトプット』(テストの実装)は要件満たす作業であり、2 (テストが通るように実装)は機能要件を満たす作業であり、 3(テストに通る状態でリファクタリング) は (一部だが) 非機能要件を満たす作業であるといえる。
> - テストが記述できなければ、実装の対象が大きい、要件が理解できていないということが示唆される。モジュールを分割したり、要件のヒアリングを追加で行ったりするだろう。『テストを記述する』という行為そのものが『アウトプット』に十分な『インプット』が行われているかを評価してくれると言える。

> [実践テスト駆動開発！ESのクエリビルダをテスト駆動で実装してみる](https://zenn.dev/niisan/articles/6e669b919519e0)
> - 基本的に自分がリファクタリングするときは以下の方針でやってたりします。
>   - 重複コードはないか
>   - 長すぎるメソッドはないか
>   - 分岐を消せないか
>   - 拡張性を高められないか

> [TDDを自分の手でまとめて理解をしていく_No1](https://zenn.dev/speedingrenchon/articles/78401f036e8edd)
> プログラマは8000点を支払って後の3巡を買えないのである。なるほど凡夫だ。

> [privateメソッドはテストするけどテストしないって話](https://zenn.dev/shimarisu/articles/80ae5f2502323c)
> - privateメソッドをテストしない理由
>   - 変更頻度が高い。そのため、テストの修正の頻度も高くなるから。
>   - 外に使用されることを考えていない。しかし、テストをするということは外で使うということになる。そのため、密結合になるから。
>   - そもそもprivateメソッドはpubnlicメソッドで使われている。そのため。publicメソッドのテストでカバーできるから。
→これについてみんなどう思う

- [アジャイル開発における「TDD」と「BDD」 - SHIFT ASIA -ソフトウェア品質保証のプロフェッショナル-SHIFT ASIA -ソフトウェア品質保証のプロフェッショナル-](https://shiftasia.com/ja/column/%E3%82%A2%E3%82%B8%E3%83%A3%E3%82%A4%E3%83%AB%E9%96%8B%E7%99%BA%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8Btdd%E3%81%A8bdd/)
- [TDD／BDDの思想とテスティングフレームワークの関係を整理しよう：いまさら聞けないTDD/BDD超入門（2）（1/3 ページ） - ＠IT](https://atmarkit.itmedia.co.jp/ait/articles/1403/25/news033.html)
- [TypeScriptで始めるNode.js入門 - ICS MEDIA](https://ics.media/entry/4682/)
- import文はシングルクォーテーションじゃないとエラーになる